<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8TKE4R10Y3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-8TKE4R10Y3');
    </script>
    <!-- Meta tags help with SEO and mobile responsiveness -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PREP-KC ignites potential by connecting educators and industry professionals to build meaningful career paths across Kansas City.">
    <title>PREP-KC - Partnership for Regional Educational Preparation Kansas City</title>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://prepkc.org/">
    <meta property="og:title" content="PREP-KC - Partnership for Regional Educational Preparation Kansas City">
    <meta property="og:description" content="PREP-KC ignites potential by connecting educators and industry professionals to build meaningful career paths across Kansas City.">
    <meta property="og:image" content="https://prepkc.org/img/logo/logo_yellow.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://prepkc.org/">
    <meta property="twitter:title" content="PREP-KC - Partnership for Regional Educational Preparation Kansas City">
    <meta property="twitter:description" content="PREP-KC ignites potential by connecting educators and industry professionals to build meaningful career paths across Kansas City.">
    <meta property="twitter:image" content="https://prepkc.org/img/logo/logo_yellow.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://prepkc.org/">
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="img/assets/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="img/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/assets/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="img/assets/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="img/assets/android-chrome-512x512.png">
    <link rel="manifest" href="img/assets/site.webmanifest">
    
    <!-- Preloading improves performance by loading critical assets before they're needed -->
    <link rel="preload" href="fonts/DINEngschriftStd.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="fonts/AvenirMedium.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="img/mathrelays2.JPG" as="image">
    <link rel="preload" href="css/style.css" as="style">
    <link rel="preload" href="css/index.css" as="style">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" as="style" crossorigin="anonymous">
    
    <!-- External CSS libraries and custom stylesheets -->
    <!-- Always load third-party CSS before your custom CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/index.css">
    
    <!-- HTMX library enables AJAX functionality without writing JavaScript -->
    <script src="https://unpkg.com/htmx.org@2.0.1"></script>
    
    <!-- Structured Data (Organization Schema) for better SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "PREP-KC",
      "alternateName": "Partnership for Regional Educational Preparation - Kansas City",
      "url": "https://prepkc.org",
      "logo": "https://prepkc.org/img/logo/navy.png",
      "description": "PREP-KC ignites potential by connecting educators and industry professionals to build meaningful career paths across Kansas City.",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "2300 Main St, Suite 340",
        "addressLocality": "Kansas City",
        "addressRegion": "MO",
        "postalCode": "64108",
        "addressCountry": "US"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+18169317737",
        "contactType": "General Information",
        "email": "info@prepkc.org"
      },
      "sameAs": [
        "https://www.facebook.com/prepkc/",
        "https://twitter.com/PREPKC",
        "https://www.linkedin.com/company/prep-kc/"
      ],
      "foundingDate": "2015",
      "nonprofitStatus": "NonprofitType",
      "areaServed": {
        "@type": "Place",
        "name": "Kansas City Metropolitan Area"
      }
    }
    </script>
    
    <!-- Font display optimization handled by CSS file -->
</head>
<body>
    <!-- Navigation using HTMX to load content dynamically -->
    <!-- This is a common pattern for reusing navigation across multiple pages -->
    <header class="index-nav">
        <nav id="nav-container"></nav>
    </header>
    <!-- HTMX will automatically load nav.html when the page loads -->
    <div hx-get="nav.html" 
         hx-target="#nav-container" 
         hx-trigger="load" 
         hx-swap="innerHTML" 
         hx-select="nav"
         hx-push-url="false"></div>

    <!-- Hero Section -->
    <section class="hero">
        <p class="text-white text-center col-10 mx-auto display-6">
            In a world where zip codes can predict outcomes, PREP-KC 
            <span class="gradient-text">ignites potential</span> 
            by bringing educators and industry professionals together to build paths to meaningful careers for students across the heart of bistate Kansas City. As Missouri's leading education nonprofit, we're transforming Kansas City education through innovative career pathway programs.
        </p>
    </section>

    <!-- PREP Cards Section -->
    <!-- Using semantic HTML: <main> for primary content -->
    <main class="container-fluid p-0">
        <!-- Each card is a clickable element with two parts:
             1. A large letter
             2. The word that letter stands for -->
        <a class="prep-card" id="card1" aria-label="Learn about our partnerships">
            <span class="letter">P</span>
            <span class="phrase">Partnership for</span>
        </a>
        <a class="prep-card" id="card2" aria-label="Explore our regional impact">
            <span class="letter">R</span>
            <span class="phrase">Regional</span>
        </a>
        <a class="prep-card" id="card3" aria-label="Discover our educational programs">
            <span class="letter">E</span>
            <span class="phrase">Educational</span>
        </a>
        <a class="prep-card" id="card4" aria-label="Join our preparation programs">
            <span class="letter">P</span>
            <span class="phrase">Preparation</span>
        </a>
    </main>

    <!-- KC Highlight Section with fade-in animation -->
    <!-- The animation is controlled by JavaScript at the bottom of the page -->
    <section class="static-kc-box">
        <span class="fade-in">K C</span>
        <img src="img/mathrelays2.JPG" alt="Students celebrating at PREP-KC Math Relays competition in Kansas City" class="fade-in-image">
    </section>

    <!-- Video Section with Map Background -->
    <section class="video-section-new">
        <div class="video-trigger-container">
            <button id="video-trigger" 
                    class="video-trigger-btn"
                    onclick="openVideoOverlay()"
                    aria-label="Play PREP-KC Introduction Video">
                <div class="play-button">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <polygon points="8,5 19,12 8,19" fill="currentColor"/>
                    </svg>
                </div>
                <div class="video-info">
                    <h3 class="video-title">PREP-KC Introduction</h3>
                    <p class="video-description">Discover how we're transforming Kansas City education</p>
                </div>
            </button>
        </div>
    </section>

    <!-- Video Overlay Section with HTMX Lazy Loading -->
    <div id="video-overlay" 
         class="video-overlay position-fixed w-100 h-100"
         style="display: none; top: 0; left: 0; z-index: 1000; background: rgba(0,0,0,0.9);"
         hx-get="video-content.html" 
         hx-trigger="click"
         hx-target="#video-content">
        <div id="video-content" class="position-absolute top-50 start-50 translate-middle"></div>
        <button class="btn-close position-absolute top-0 end-0 m-3" onclick="closeVideo()"></button>
    </div>

    <!-- FOOTER -->
    <footer class="container mt-5">
        <div class="footer row">
            <address class="footer-text col">
                <p> 
                    PREP-KC<br>
                    <a href="mailto:info@prepkc.org">info@prepkc.org</a><br>
                    2300 Main St, Suite 340<br>
                    Kansas City, MO 64108<br>
                    <a href="tel:+18169317737">816.931.PREP</a>
                </p>
            </address>
            <div class="footer-social col">
                <h2 class="h5">Connect</h2>
                <nav class="social-links" aria-label="Social Media Links">
                    <a href="mailto:info@prepkc.org" class="social-icon" aria-label="Email">
                        <i class="fas fa-envelope" aria-hidden="true"></i>
                    </a>
                    <a href="https://www.facebook.com/prepkc/" class="social-icon" aria-label="Facebook">
                        <i class="fab fa-facebook-f" aria-hidden="true"></i>
                    </a>
                    <a href="https://twitter.com/PREPKC" class="social-icon" aria-label="Twitter">
                        <i class="fab fa-twitter" aria-hidden="true"></i>
                    </a>
                    <a href="https://www.linkedin.com/company/prep-kc/" class="social-icon" aria-label="LinkedIn">
                        <i class="fab fa-linkedin-in" aria-hidden="true"></i>
                    </a>
                </nav>
            </div>
        </div>
    </footer>

    <!-- JavaScript for fade-in animation -->
    <script>
        // Select elements we want to animate
        const kcBox = document.querySelector('.static-kc-box');
        const kcText = kcBox.querySelector('span');
        const kcImage = kcBox.querySelector('.fade-in-image');

        // Function to check if element is in viewport
        function checkScroll() {
            // Get the distance from the top of the element to the viewport
            const kcBoxTop = kcBox.getBoundingClientRect().top;
            const windowHeight = window.innerHeight;
            
            // Add 'visible' class when element is 75% into view
            // This triggers the CSS animation
            if (kcBoxTop < windowHeight * 0.75) {
                kcText.classList.add('visible');
                kcImage.classList.add('visible');
            } else {
                kcText.classList.remove('visible');
                kcImage.classList.remove('visible');
            }
        }

        // Run the check when page loads
        checkScroll();

        // Run the check whenever user scrolls
        window.addEventListener('scroll', checkScroll);

        // Video Overlay Functions
        function openVideoOverlay() {
            const overlay = document.getElementById('video-overlay');
            const videoContent = document.getElementById('video-content');
            
            // Create and insert iframe
            const iframe = document.createElement('iframe');
            iframe.src = 'https://player.vimeo.com/video/191812434?h=2efccc1921&autoplay=1';
            iframe.title = 'PREP-KC Introduction Video';
            iframe.allowfullscreen = true;
            
            videoContent.appendChild(iframe);
            overlay.style.display = 'block';
            
            // Prevent body scroll
            document.body.style.overflow = 'hidden';
        }

        function closeVideo() {
            const overlay = document.getElementById('video-overlay');
            const videoContent = document.getElementById('video-content');
            
            // Remove iframe to stop video
            videoContent.innerHTML = '';
            overlay.style.display = 'none';
            
            // Restore body scroll
            document.body.style.overflow = '';
        }

        // Close video on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeVideo();
            }
        });

        // Close video on overlay click (but not on content)
        document.getElementById('video-overlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeVideo();
            }
        });
    </script>    
    
    <!-- Bootstrap JavaScript bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
    // Preload nav content immediately when HTMX is ready
    document.addEventListener('DOMContentLoaded', function() {
        // Pre-fetch the nav content
        if (window.htmx) {
            htmx.trigger(document.body, 'load');
        }
    });
    </script>
</body>
</html>
